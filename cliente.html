<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ficha Cadastral | Paz Solar</title>
<style>
:root { --blue-dark: rgb(20,100,130); --gray: #f2f2f2; }
* { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
body { background: var(--gray); }
nav { position: absolute; top: 20px; right: 30px; z-index: 10; }
nav a { color: white; text-decoration: none; font-weight: bold; background: rgba(0,0,0,0.4); padding: 10px 18px; border-radius: 6px; }
.hero { height: 50vh; background: url("img/solar.jpg") center/cover no-repeat; background-color: #000; }
.section { padding: 60px 10%; }
.container { max-width: 900px; margin: 0 auto; background: #fff; padding: 50px; border-radius: 16px; box-shadow: 0 12px 30px rgba(0,0,0,0.15); }
h1 { font-size: 2.4rem; margin-bottom: 20px; color: var(--blue-dark); }
.intro { font-size: 1.15rem; line-height: 1.6; margin-bottom: 30px; }
.whatsapp-box { background: #eaffea; padding: 18px; border-radius: 10px; margin-bottom: 40px; }
fieldset { border: none; margin-bottom: 35px; }
legend { font-size: 1.35rem; font-weight: bold; margin-bottom: 20px; color: var(--blue-dark); }
label { display: block; margin-bottom: 6px; font-weight: bold; }
input, select { width: 100%; padding: 14px; margin-bottom: 18px; border-radius: 8px; border: 1px solid #ccc; font-size: 1rem; }
input.error, select.error { border-color: red !important; background: #ffecec; }
.lgpd { font-size: 0.95rem; margin-bottom: 25px; }
.lgpd label { display: flex; align-items: center; gap: 10px; cursor: pointer; }
.lgpd input { width: auto; margin-bottom: 0; }
button { background: var(--blue-dark); color: #fff; padding: 18px; font-size: 1.2rem; border: none; border-radius: 10px; cursor: pointer; width: 100%; font-weight: bold; }
button:disabled { background: #ccc; }
#sucesso { display: none; margin-top: 40px; font-size: 1.3rem; color: green; text-align: center; }
@media (max-width: 768px) { .section { padding: 30px 5%; } .container { padding: 30px 20px; } }
</style>
</head>
<body>
<nav><a href="index.html">P√°gina inicial</a></nav>
<section class="hero"></section>
<section class="section">
<div class="container">
<h1>Ficha Cadastral ‚Äì PAZ Solar</h1>
<p class="intro">Preencha o formul√°rio abaixo com aten√ß√£o para fazer o seu cadastro.</p>
<div class="whatsapp-box">D√∫vidas? <a href="https://wa.me/5584996710787" target="_blank">üì≤ (84) 99671-0787</a></div>
<form id="formCliente">
<fieldset>
<legend>Dados Pessoais</legend>
<label>Nome e sobrenome</label><input type="text" id="nome" required>
<label>CPF</label><input type="text" id="cpf" required>
<label>RG</label><input type="text" id="rg" required>
<label>√ìrg√£o expedidor</label><input type="text" id="orgao" required>
<label>UF</label><input type="text" id="uf" maxlength="2" required>
<label>E-mail</label><input type="email" id="email" required>
<label>Telefone</label><input type="text" id="telefone" required>
</fieldset>
<fieldset>
<legend>Dados da Unidade Consumidora</legend>
<label>CEP</label><input type="text" id="cep" required>
<label>Endere√ßo</label><input type="text" id="endereco" required>
<label>N√∫mero</label><input type="text" id="numero" required>
<label>Complemento</label><input type="text" id="complemento">
<label>Bairro</label><input type="text" id="bairro" required>
<label>Munic√≠pio</label><input type="text" id="municipio" required>
<label>Estado</label><input type="text" id="estado" maxlength="2" required>
<label>Tipo de im√≥vel</label><select id="tipoImovel" required><option value="">Selecione</option><option>Urbano</option><option>Rural</option></select>
<label>Uso do im√≥vel</label><select id="usoImovel" required><option value="">Selecione</option><option>Residencial</option><option>Comercial</option></select>
</fieldset>
<fieldset>
<legend>Dados da conta de energia</legend>
<label>C√≥digo da Instala√ß√£o</label><input type="number" id="codigoInstalacao" required>
<label>C√≥digo do Cliente</label><input type="number" id="codigoCliente" required>
<label>Consumo m√©dio (kWh)</label><input type="number" id="consumoMedioAnual" required>
<label>TIP (R$)</label><input type="number" id="tip" required>
<label>D√©bitos vencidos?</label><select id="debitosVencidos" required><option value="">Selecione</option><option>SIM</option><option>N√ÉO</option></select>
</fieldset>
<fieldset>
<legend>Dados do contrato</legend>
<label>Conta ouro ou prata gov.br?</label><select id="gov" required><option value="">Selecione</option><option>SIM</option><option>N√ÉO</option></select>
<label>Data de cobran√ßa</label><select id="dataCobranca" required><option value="">Selecione</option><option>1¬∫ dia √∫til</option><option>5¬∫ dia √∫til</option><option>15¬∫ dia √∫til</option></select>
<label>Forma de cobran√ßa</label><select id="formaCobranca" required><option value="">Selecione</option><option>PIX</option><option>Boleto</option><option>Cart√£o de Cr√©dito</option></select>
</fieldset>
<div class="lgpd"><label><input type="checkbox" id="lgpd" required> Li e concordo com a Pol√≠tica de Privacidade.</label></div>
<button type="submit" id="btnEnviar">Enviar cadastro</button>
<div id="sucesso">Cadastro enviado com sucesso! üòä</div>
</form>
</div>
</section>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwwAKtNuG2-x5KAX3xdNBwQzOKc5g0AkfyrGuqs1q3E-e1lB9xCzvOfjNLa9vYbQTw1bw/exec";
const form = document.getElementById("formCliente");
const btn = document.getElementById("btnEnviar");

form.addEventListener("submit", e => {
  e.preventDefault();
  let erro = false;
  const dados = new URLSearchParams();
  const ids = ["nome","cpf","rg","orgao","uf","email","telefone","cep","endereco","numero","complemento","bairro","municipio","estado","tipoImovel","usoImovel","codigoInstalacao","codigoCliente","consumoMedioAnual","tip","debitosVencidos","gov","dataCobranca","formaCobranca"];

  ids.forEach(id => {
    const el = document.getElementById(id);
    el.classList.remove("error");
    if (el.hasAttribute("required") && !el.value) { el.classList.add("error"); erro = true; }
    dados.append(id, el.value);
  });

  if (!document.getElementById("lgpd").checked) { alert("Aceite a Pol√≠tica de Privacidade."); return; }
  if (erro) { alert("Preencha os campos obrigat√≥rios."); return; }

  btn.disabled = true; btn.innerText = "Enviando...";
  fetch(SCRIPT_URL, { method: "POST", mode: "no-cors", body: dados.toString() })
    .then(() => {
      const msg = `Cadastro PAZ SOLAR üåû\nNome: ${document.getElementById("nome").value}\nTelefone: ${document.getElementById("telefone").value}`;
      window.location.href = "https://wa.me/5584996710787?text=" + encodeURIComponent(msg);
    });
});
</script>
</body>
</html>
